{"version":3,"sources":["assets\\scripts\\WXManager.ts"],"names":[],"mappings":";;;;;;AAAA;IAAA;IAkEA,CAAC;IA/DG,sBAAkB,qBAAQ;aAA1B;YACI,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE;gBACrB,SAAS,CAAC,QAAQ,GAAG,IAAI,SAAS,EAAE,CAAC;aACxC;YACD,OAAO,SAAS,CAAC,QAAQ,CAAC;QAC9B,CAAC;;;OAAA;IAED,YAAY;IACL,6BAAS,GAAhB,UAAiB,QAAgB,EAAE,KAAa;QAC5C,IAAI,MAAM,CAAC,EAAE,EAAE;YACX,IAAI;YACJ,EAAE,CAAC,aAAa,CAAC;gBACb,eAAe,EAAE,IAAI;gBACrB,KAAK,EAAE,CAAC,iBAAiB,EAAE,eAAe,CAAC;aAC9C,CAAC,CAAA;YACF,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,GAAG,EAAE,IAAI;gBAC3C,IAAI,GAAG,EAAE;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBACpB;qBAAM;oBACH,2CAA2C;oBAC3C,EAAE,CAAC,iBAAiB,CAAC,UAAU,GAAG;wBAC9B,OAAO;4BACH,KAAK,EAAE,KAAK;4BACZ,QAAQ,EAAE,IAAI,CAAC,GAAG;4BAClB,OAAO,YAAC,GAAG;gCACP,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;4BACpB,CAAC;4BACD,IAAI,YAAC,GAAG;gCACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;4BACpB,CAAC;yBACJ,CAAA;oBACL,CAAC,CAAC,CAAA;iBACL;YACL,CAAC,CAAC,CAAA;SACL;IACL,CAAC;IAED,YAAY;IACL,+BAAW,GAAlB,UAAmB,QAAgB,EAAE,KAAa;QAC9C,IAAI,MAAM,CAAC,EAAE,EAAE;YACX,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,GAAG,EAAE,IAAI;gBAC3C,IAAI,OAAO,GAAG;oBACV,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,IAAI,CAAC,GAAG;iBACrB,CAAC;gBACF,EAAE,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;gBAE5B,2CAA2C;gBAC3C,EAAE,CAAC,iBAAiB,CAAC,UAAU,GAAG;oBAC9B,OAAO;wBACH,KAAK,EAAE,KAAK;wBACZ,QAAQ,EAAE,IAAI,CAAC,GAAG;wBAClB,OAAO,YAAC,GAAG;4BACP,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;wBACpB,CAAC;wBACD,IAAI,YAAC,GAAG;4BACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;wBACpB,CAAC;qBACJ,CAAA;gBACL,CAAC,CAAC,CAAA;YACN,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IACL,gBAAC;AAAD,CAlEA,AAkEC,IAAA","file":"","sourceRoot":"/","sourcesContent":["export default class WXManager {\r\n    private static instance: WXManager;\r\n\r\n    public static get Instance(): WXManager {\r\n        if (!WXManager.instance) {\r\n            WXManager.instance = new WXManager();\r\n        }\r\n        return WXManager.instance;\r\n    }\r\n\r\n    //开通微信右上角的分享\r\n    public openShare(frameUrl: string, title: string) {\r\n        if (window.wx) {\r\n            //显示\r\n            wx.showShareMenu({\r\n                withShareTicket: true,\r\n                menus: ['shareAppMessage', 'shareTimeline']\r\n            })\r\n            cc.resources.load(frameUrl, function (err, data) {\r\n                if (err) {\r\n                    console.log(err);\r\n                } else {\r\n                    //share为分享的图片名称这是路径（assets/resources/share）\r\n                    wx.onShareAppMessage(function (res) {\r\n                        return {\r\n                            title: title, //分享的标题\r\n                            imageUrl: data.url,\r\n                            success(res) {\r\n                                console.log(res)\r\n                            },\r\n                            fail(res) {\r\n                                console.log(res)\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    //玩家主动点击按钮分享\r\n    public playerShare(frameUrl: string, title: string) {\r\n        if (window.wx) {\r\n            cc.resources.load(frameUrl, function (err, data) {\r\n                let options = {\r\n                    title: title,\r\n                    imageUrl: data.url,\r\n                };\r\n                wx.shareAppMessage(options);\r\n\r\n                //share为分享的图片名称这是路径（assets/resources/share）\r\n                wx.onShareAppMessage(function (res) {\r\n                    return {\r\n                        title: title, //分享的标题\r\n                        imageUrl: data.url,\r\n                        success(res) {\r\n                            console.log(res)\r\n                        },\r\n                        fail(res) {\r\n                            console.log(res)\r\n                        }\r\n                    }\r\n                })\r\n            });\r\n        }\r\n    }\r\n}"]}