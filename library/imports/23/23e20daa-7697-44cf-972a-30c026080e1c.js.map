{"version":3,"sources":["assets\\scripts\\GameSc.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Msger } from \"./Msger\";\nimport BrickSc from \"./BrickSc\";\nimport DelayDelSc from \"./DelayDelSc\";\n\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class GameSc extends cc.Component {\n\n    @property(cc.Label)\n    scoreLabel: cc.Label = null;\n    @property(cc.Node)\n    bricksLayer: cc.Node = null;\n    @property(cc.Node)\n    closeLayer: cc.Node = null;\n    @property(cc.Prefab)\n    blockPrefab: cc.Prefab = null;\n    @property(dragonBones.ArmatureDisplay)\n    xiaochuEffect: dragonBones.ArmatureDisplay = null;\n    @property(dragonBones.ArmatureDisplay)\n    quanjiEffect: dragonBones.ArmatureDisplay = null;\n\n\n    // LIFE-CYCLE CALLBACKS:\n    private points: number[] = [];\n    private begin_y: number = 694;\n    \n    onLoad() {\n        this.quanjiEffect.node.active = false;\n        Msger.on(Msger.on_game_begin, this.on_game_begin, this);\n        Msger.on(Msger.on_game_revie, this.on_game_revie, this);\n        for (const iterator of this.bricksLayer.children) {\n            this.points.push(iterator.x);\n        }\n        this.bricksLayer.removeAllChildren();\n    }\n    private on_game_revie() {\n        this.isPaused = false;\n        this.gametime *= 0.25;\n    }\n    private on_game_begin() {\n        this.score = 0;\n        this.gametime = 0;\n        this.isPaused = false;\n        this.bricksLayer.removeAllChildren();\n    }\n    gametime = 0;\n\n    private _score: number;\n    public get score(): number {\n        return this._score;\n    }\n    public set score(v: number) {\n        this._score = v;\n        this.scoreLabel.string = v.toString();\n    }\n    isPaused = true;\n    private movespeed = 150;\n    g_movespeed_sc = 1;\n\n    update(dt) {\n        if (this.isPaused) {\n            return;\n        }\n        this.gametime += dt;\n        if (this.gametime > 60) {\n            this.gametime = 60;\n        }\n        for (let item of this.closeLayer.children) {\n            if (item.getComponent(DelayDelSc)) {\n                continue;\n            }\n            this.score += this.closeOne(item);\n        }\n        let topBrick = null;\n        for (let item of this.bricksLayer.children) {\n            let sc = item.getComponent(BrickSc);\n            let movespdsc = this.g_movespeed_sc;\n            ///对于不是打上去的砖块则特殊处理一下\n            if (sc.moveSpeed != 0) {\n                movespdsc = 1;\n            }\n            item.y -= dt * (this.movespeed + sc.moveSpeed) * movespdsc * (this.gametime / 60 + 1);\n            if (sc.moveSpeed != 0) {\n                this.check_collision(item);\n            } else {\n                // \n                if (topBrick == null) {\n                    topBrick = item;\n                } else if (item.y > topBrick.y) {\n                    topBrick = item;\n                }\n            }\n        }\n        if (this.bricksLayer.childrenCount <= 0) {\n            this.add_line_bricks();\n        } else if (topBrick) {\n            if (topBrick.y < this.begin_y) {\n                this.add_line_bricks(topBrick);\n            }\n        }\n        this.check_line_close();\n    }\n    private check_line_close() {\n        let array = [];\n        for (let item of this.bricksLayer.children) {\n            let key = Math.floor(item.y / item.height);\n            if (array[key]) {\n                array[key].push(item);\n            } else {\n                array[key] = [item];\n            }\n        }\n        for (let key in array) {\n            if (array[key].length === 4) {\n                let y = array[key][2].y;\n                for (let item of array[key]) {\n                    (item as cc.Node).parent = this.closeLayer;\n                    (item as cc.Node).y = y;\n                }\n                //显示特效\n                this.xiaochuEffect.playAnimation(\"newAnimation\", 1);\n                this.xiaochuEffect.node.y = array[key][0].y + array[key][0].height;\n                Msger.emit(Msger.on_play_sound, 8);\n            }\n        }\n    }\n    private check_collision(brick: cc.Node) {\n        for (let item of this.bricksLayer.children) {\n            if (brick == item || item.getComponent(BrickSc).moveSpeed != 0) {\n                continue;\n            }\n            if (brick.x == item.x) {\n                if (brick.y >= item.y - item.height) {\n                    // console.log(item.height,item.y);\n                    brick.y = item.y - item.height;\n                    brick.getComponent(BrickSc).moveSpeed = 0;\n                    break;\n                }\n            }\n        }\n    }\n    private closeOne(brick: cc.Node) {\n        let score = 1;\n        for (let i = 1; i < 9; i++) {\n            let getBrick = this.getOneBrickFromXY(brick.x, brick.y - brick.height * i);\n            if(getBrick?.getComponent(BrickSc)?.moveSpeed != 0){\n                continue;\n            }\n            if (getBrick) {\n                score += this.closeOne(getBrick);\n            }\n        }\n        brick.removeFromParent(true);\n        Msger.emit(Msger.on_clean_brick, this.closeLayer, brick.position);\n        return score;\n    }\n    private getOneBrickFromXY(x, y) {\n        for (let item of this.bricksLayer.children) {\n            let indexX = Math.floor(item.x / item.width);\n            let indexY = Math.floor(item.y / item.height);\n            if (indexY == Math.floor(y / item.height) && indexX == Math.floor(x / item.width)) {\n                return item;\n            }\n        }\n        return null;\n    }\n    add_line_bricks(topBrick: cc.Node = null) {\n        let sum = Math.random() * 3;\n        sum = Math.floor(sum) + 2;\n        if (sum == 4) {\n            sum = 3;\n        }\n        let temp = [];\n        for (let i = 0; i < sum; i++) {\n            let brick = cc.instantiate(this.blockPrefab);\n            brick.y = topBrick == null ? this.begin_y : topBrick.y + topBrick.height;\n            let j = 0;\n            do {\n                j = Math.floor(Math.random() * this.points.length);\n            } while (temp.indexOf(j) >= 0);\n            temp.push(j);\n            brick.x = this.points[j];\n            this.bricksLayer.addChild(brick);\n        }\n    }\n    onclick_back() {\n        Msger.emit(Msger.on_play_sound, 1);\n        Msger.emit(Msger.on_changeto_start);\n        this.isPaused = true;\n    }\n    add_move_brick(index) {\n        let brick = cc.instantiate(this.blockPrefab);\n        brick.y = -this.begin_y + 200;\n        brick.x = this.points[index];\n        brick.getComponent(BrickSc).moveSpeed = -2000;\n        this.bricksLayer.addChild(brick);\n    }\n    play_hit_effect() {\n        this.quanjiEffect.node.active = true;\n        let array = this.bricksLayer.children.sort((a, b) => {\n            return a.y - b.y;\n        })\n        this.quanjiEffect.node.y = array[0].y + 300;\n        this.quanjiEffect.playAnimation(\"newAnimation\", 1);\n    }\n}\n"]}