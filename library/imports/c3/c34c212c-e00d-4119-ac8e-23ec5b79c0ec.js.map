{"version":3,"sources":["assets\\scripts\\GameTouchSc.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAA8B;AAC9B,iCAAgC;AAG1B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAyC,+BAAY;IAArD;QAAA,qEAoCC;QAjCG,gBAAU,GAAY,IAAI,CAAC;QA4BnB,eAAS,GAAG,CAAC,CAAC;;IAK1B,CAAC;IA9BG,wBAAwB;IAExB,4BAAM,GAAN;QACI,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAC7E,CAAC;IAED,gCAAU,GAAV,UAAW,CAAsB;QAC7B,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE;YACpB,OAAO;SACV;QACD,IAAI,IAAI,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,QAAQ,EAAE;YACpC,OAAO;SACV;QACD,uCAAuC;QACvC,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,CAAC;QACrE,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;QACzC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC1B,IAAI,KAAK,GAAG,CAAC;YAAE,KAAK,GAAG,CAAC,CAAC;QACzB,IAAI,KAAK,GAAG,CAAC;YAAE,KAAK,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,gBAAM,CAAC,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAChD,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;QAErB,aAAK,CAAC,IAAI,CAAC,aAAK,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;IACvC,CAAC;IAID,4BAAM,GAAN,UAAO,EAAE;QACL,IAAI,CAAC,SAAS,IAAI,EAAE,CAAC;IACzB,CAAC;IAhCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;mDACS;IAHV,WAAW;QAD/B,OAAO;OACa,WAAW,CAoC/B;IAAD,kBAAC;CApCD,AAoCC,CApCwC,EAAE,CAAC,SAAS,GAoCpD;kBApCoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["import GameSc from \"./GameSc\";\r\nimport { Msger } from \"./Msger\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameTouchSc extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    touchLayer: cc.Node = null;\r\n\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.touchLayer.on(cc.Node.EventType.TOUCH_START, this.touchBegin, this);\r\n    }\r\n\r\n    touchBegin(e: cc.Event.EventTouch) {\r\n        if (this.holdTouch > 0) {\r\n            return;\r\n        }\r\n        if (this.getComponent(GameSc).isPaused) {\r\n            return;\r\n        }\r\n        // console.log(e.touch.getLocationX());\r\n        let pt = this.touchLayer.convertToNodeSpaceAR(e.touch.getLocation());\r\n        let index = (pt.x + 720 / 2) / (720 / 4);\r\n        index = Math.floor(index);\r\n        if (index < 0) index = 0;\r\n        if (index > 3) index = 3;\r\n        this.getComponent(GameSc).add_move_brick(index);\r\n        this.holdTouch = 0.2;\r\n        \r\n        Msger.emit(Msger.on_play_sound, 7);\r\n    }\r\n    \r\n    private holdTouch = 0;\r\n\r\n    update(dt) {\r\n        this.holdTouch -= dt;\r\n    }\r\n}\r\n"]}