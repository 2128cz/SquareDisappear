{"version":3,"sources":["assets\\scripts\\SoundConctrollerSc.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iCAAgC;AAE1B,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAgD,sCAAY;IAA5D;;IA6BA,CAAC;2BA7BoB,kBAAkB;IAInC,mCAAM,GAAN;QACI,aAAK,CAAC,EAAE,CAAC,aAAK,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;QACxD,aAAK,CAAC,EAAE,CAAC,aAAK,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;IAE9D,CAAC;IACD,2CAAc,GAAd;QACI,oBAAkB,CAAC,OAAO,GAAG,CAAC,oBAAkB,CAAC,OAAO,CAAC;QACzD,IAAI,oBAAkB,CAAC,OAAO,EAAE;YAC5B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;SAC3E;aAAM;YACH,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;SAC3E;IACL,CAAC;IACD,GAAG;IACH,0CAAa,GAAb,UAAc,CAAC;QACX,IAAI,oBAAkB,CAAC,OAAO,EAAE;YAC5B,OAAO;SACV;QACD,IAAI,CAAC,IAAI,CAAC,EAAE;YACR,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;SACzC;QACD,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,CAAC;IAC9D,CAAC;;IAxBD,wBAAwB;IACV,0BAAO,GAAG,KAAK,CAAC;IAHb,kBAAkB;QADtC,OAAO;OACa,kBAAkB,CA6BtC;IAAD,yBAAC;CA7BD,AA6BC,CA7B+C,EAAE,CAAC,SAAS,GA6B3D;kBA7BoB,kBAAkB","file":"","sourceRoot":"/","sourcesContent":["import { Msger } from \"./Msger\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class SoundConctrollerSc extends cc.Component {\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    public static isMuted = false;\r\n    onLoad() {\r\n        Msger.on(Msger.on_play_sound, this.on_play_sound, this);\r\n        Msger.on(Msger.on_sound_muted, this.on_sound_muted, this);\r\n\r\n    }\r\n    on_sound_muted() {\r\n        SoundConctrollerSc.isMuted = !SoundConctrollerSc.isMuted;\r\n        if (SoundConctrollerSc.isMuted) {\r\n            this.node.getChildByName('bgm').getComponent(cc.AudioSource).volume = 0;\r\n        } else {\r\n            this.node.getChildByName('bgm').getComponent(cc.AudioSource).volume = 1;\r\n        }\r\n    }\r\n    // \r\n    on_play_sound(e) {\r\n        if (SoundConctrollerSc.isMuted) {\r\n            return;\r\n        }\r\n        if (e == 8) {\r\n            e = Math.floor(Math.random() * 3) + 8;\r\n        }\r\n        this.node.children[e].getComponent(cc.AudioSource).play();\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}