{"version":3,"sources":["assets\\scripts\\game\\MenuLevel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { DevelopersToolGlobal as ccvv } from \"../base/class/DevelopersToolGlobal\";\r\nimport { SoundPlayer } from \"../base/tool/SoundPlayer\";\r\nimport ss from \"./Setting\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MenuLevel extends cc.Component {\r\n\tonLoad() {\r\n        ss.menu = this;\r\n\t}\r\n\r\n\tstart() {\r\n\t\tthis.openMenu();\r\n\t}\r\n\t// update (dt) {}\r\n\r\n\t// tag 用户逻辑\r\n\r\n\t/**\r\n     * 游戏开始\r\n     */\r\n\tpublic gameStart() {\r\n\t\tccvv.layers[0].active = true;\r\n\t\tccvv.layers[1].active = true;\r\n\t\tccvv.layers[2].active = false;\r\n        ccvv.layers[3].active = false;\r\n\r\n        // 复位分数\r\n        ss.score = 0;\r\n        \r\n        if (ss.mute) return;\r\n\t\t// todo 音乐切换\r\n\t\tlet newbgm = new SoundPlayer(ss.Sound_bgm, -1, 0.5);\r\n\t\tnewbgm.bpm = ss.Sound_bgm_bpm;\r\n\t\tthis._bgm1.stop();\r\n\t\tthis._bgm1.switch(newbgm).crossfade(3);\r\n\t\tthis._bgm1 = newbgm;\r\n\t}\r\n\r\n\t/**\r\n     * 游戏结束\r\n     */\r\n\tpublic gameOver() {\r\n\t\tccvv.layers[0].active = true;\r\n\t\tccvv.layers[1].active = true;\r\n\t\tccvv.layers[2].active = true;\r\n\t\tccvv.layers[3].active = false;\r\n\r\n\t\t// todo 播放音效\r\n\t\t// this._bgm1.setting().crossfade(1);\r\n\t\tnew SoundPlayer(ss.Sound_lose);\r\n\t}\r\n\r\n\t/**\r\n    * 打开菜单\r\n    */\r\n\tpublic openMenu() {\r\n\t\tccvv.layers[0].active = true;\r\n\t\tccvv.layers[1].active = false;\r\n\t\tccvv.layers[2].active = false;\r\n\t\tccvv.layers[3].active = true;\r\n\r\n\r\n        if (ss.mute) return;\r\n\t\t// todo 播放音乐\r\n        if (!this._bgm1) {\r\n            this._bgm1 = new SoundPlayer(ss.Sound_bgm, -1, 0.5);\r\n            this._bgm1.bpm = ss.Sound_bgm_bpm;\r\n        }\r\n\t}\r\n\r\n\t// tag 按钮事件\r\n\r\n\tpublic onButtonClick(event, cusData) {\r\n\t\tthis[cusData](event);\r\n\t}\r\n\r\n\tpublic onMusic(event) {\r\n\t\t// todo 播放音效\r\n\t\tnew SoundPlayer(ss.Sound_btnn);\r\n\r\n        ss.mute = !ss.mute;\r\n        let spriteComponent:cc.Sprite = event.currentTarget.getComponent(cc.Sprite);\r\n        spriteComponent.spriteFrame = ss.mute ? ccvv.warehouse['frames']['btn soundClose'] : ccvv.warehouse['frames']['btn sound'];\r\n\r\n        this._bgm1.mute = ss.mute;\r\n    }\r\n\r\n\tpublic onShare(event) {\r\n\t\t// todo 播放音效\r\n\t\tnew SoundPlayer(ss.Sound_btnn);\r\n\r\n\t\tif (window.wx) {\r\n            let that = this;\r\n            cc.resources.load(\"share/share1\", function (err, data) {\r\n                let options = {\r\n\t\t\t\t\ttitle: \"方块消吧！\",\r\n                    imageUrl: data[\"url\"],\r\n                };\r\n                wx.shareAppMessage(options);\r\n\r\n                //share为分享的图片名称这是路径（assets/resources/share）\r\n                wx.onShareAppMessage(function (res) {\r\n                    return {\r\n                        title: \"来比一比谁的反应更快！\", //分享的标题\r\n                        imageUrl: data[\"url\"],\r\n                        success(res) {\r\n                            console.log(res)\r\n                        },\r\n                        fail(res) {\r\n                            console.log(res)\r\n                        }\r\n                    }\r\n                })\r\n\r\n            });\r\n        }\r\n\t}\r\n\r\n\tpublic onStart(event) {\r\n\t\t// todo 播放音效\r\n\t\tnew SoundPlayer(ss.Sound_btny);\r\n\t\tthis.gameStart();\r\n\t}\r\n\r\n\t// tag 参数\r\n\r\n\tprotected _bgm1: SoundPlayer = null;\r\n}\r\n"]}